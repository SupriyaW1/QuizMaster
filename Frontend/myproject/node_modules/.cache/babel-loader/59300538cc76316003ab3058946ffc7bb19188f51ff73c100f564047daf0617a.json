{"ast":null,"code":"var _jsxFileName = \"D:\\\\QuizMaster\\\\Frontend\\\\myproject\\\\src\\\\Components\\\\login.js\",\n  _s = $RefreshSig$();\nimport { useReducer, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  uid: \"\",\n  pwd: \"\"\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'update':\n      return {\n        ...state,\n        [action.fld]: action.val\n      };\n    case 'reset':\n      return initialState;\n    default:\n      return state;\n  }\n};\nfunction Login() {\n  _s();\n  const [user, dispatch] = useReducer(reducer, initialState);\n  const [info, setInfo] = useState(\"\");\n  const navigate = useNavigate();\n  const submitData = e => {\n    e.preventDefault();\n    const url = 'http://localhost:8080/checkUser';\n    const reqOptions = {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        uname: user.uid,\n        pwd: user.pwd\n      })\n    };\n    fetch(url, reqOptions).then(resp => resp.json()).then(data => {\n      setInfo(data);\n      console.log(data);\n      if (data.role_id === 1) {\n        navigate(\"/adminHome\");\n      } else if (data.role_id === 2) {\n        navigate(\"/studentHome\");\n      } else if (data.role_id === 4) {\n        navigate(\"/expertHome\");\n      } else {\n        console.error(\"Unknown role_id:\", data.role_id);\n      }\n    }).catch(error => {\n      console.error(\"Error fetching data:\", error);\n      setInfo(\"An error occurred while logging in.\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Enter Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"uid\",\n        value: user.uid,\n        onChange: e => dispatch({\n          type: 'update',\n          fld: 'uid',\n          val: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Enter Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"pwd\",\n        value: user.pwd,\n        onChange: e => dispatch({\n          type: 'update',\n          fld: 'pwd',\n          val: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Login\",\n        onClick: submitData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"reset\",\n        value: \"Clear\",\n        onClick: () => dispatch({\n          type: \"reset\"\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), info && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Username: \", info.uname, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 43\n      }, this), \"Role ID: \", info.role_id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"FyGoO8A/0+7bsV+QzqvaP2tSWCg=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useReducer","useState","useNavigate","jsxDEV","_jsxDEV","initialState","uid","pwd","reducer","state","action","type","fld","val","Login","_s","user","dispatch","info","setInfo","navigate","submitData","e","preventDefault","url","reqOptions","method","headers","body","JSON","stringify","uname","fetch","then","resp","json","data","console","log","role_id","error","catch","children","fileName","_jsxFileName","lineNumber","columnNumber","name","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["D:/QuizMaster/Frontend/myproject/src/Components/login.js"],"sourcesContent":["import { useReducer, useState } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nconst initialState = {\r\n    uid: \"\",\r\n    pwd: \"\"\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'update':\r\n            return { ...state, [action.fld]: action.val };\r\n        case 'reset':\r\n            return initialState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction Login() {\r\n    const [user, dispatch] = useReducer(reducer, initialState);\r\n    const [info, setInfo] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n    const submitData = (e) => {\r\n        e.preventDefault();\r\n        const url= 'http://localhost:8080/checkUser'\r\n        const reqOptions = {\r\n            method: \"POST\",\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                uname: user.uid,\r\n                pwd: user.pwd\r\n            })\r\n        };\r\n\r\n        fetch(url, reqOptions)\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n                setInfo(data);\r\n                console.log(data);\r\n                if (data.role_id === 1) {\r\n                    navigate(\"/adminHome\");\r\n                } else if (data.role_id === 2) {\r\n                    navigate(\"/studentHome\");\r\n                } else if (data.role_id === 4) {\r\n                    navigate(\"/expertHome\");\r\n                } else {\r\n                    console.error(\"Unknown role_id:\", data.role_id);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error fetching data:\", error);\r\n                setInfo(\"An error occurred while logging in.\");\r\n            });\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <form>\r\n                <label>Enter Username</label>\r\n                <input \r\n                    type=\"text\" \r\n                    name=\"uid\" \r\n                    value={user.uid}\r\n                    onChange={(e) => dispatch({ type: 'update', fld: 'uid', val: e.target.value })} \r\n                />\r\n                <br />\r\n                <label>Enter Password</label>\r\n                <input \r\n                    type=\"password\" \r\n                    name=\"pwd\" \r\n                    value={user.pwd}\r\n                    onChange={(e) => dispatch({ type: 'update', fld: 'pwd', val: e.target.value })} \r\n                />\r\n                <br />\r\n                <input \r\n                    type=\"submit\" \r\n                    value=\"Login\" \r\n                    onClick={submitData} \r\n                />\r\n                <input \r\n                    type=\"reset\" \r\n                    value=\"Clear\" \r\n                    onClick={() => dispatch({ type: \"reset\" })} \r\n                />\r\n            </form>\r\n            {info && (\r\n                <p>\r\n                    Username: {info.uname}<br />\r\n                    Role ID: {info.role_id}\r\n                </p>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}